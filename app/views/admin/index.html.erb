<div class="overflow-x-auto">
  <div class="flex justify-center mt-4">
    <div class="flex flex-col items-center">
      <h1 class="text-3xl font-bold mb-8">
        Chronologie des prochaines sessions
      </h1>

      <% if @assemblees.any? %>
        <ul class="timeline mb-8">
          <% @assemblees.each_with_index do |assemblee, index| %>
            <% started = (assemblee.début < DateTime.now) %>
            <% finished = (assemblee.fin < DateTime.now) %>
            <li>
              <hr class="<%= 'bg-primary' if started %>"/>
              <%= render partial: "partials/timeline_box", locals: {assemblee:, start: index.even?} if index.even? %>
              <div class="timeline-middle">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 <%= 'text-primary' if started %>">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd" />
                </svg>
              </div>
              <%= render partial: "partials/timeline_box", locals: {assemblee:, start: index.even?} if index.odd? %>
              <hr class="<%= 'bg-primary' if finished %>"/>
            </li>
          <% end %>
        </ul>
      <% else %>
        <div class="my-12 shadow">
          <%= link_to "Créer une nouvelle session", new_assemblee_path, class:'btn btn-success btn-outline btn-lg hover:shadow-xl hover:!text-white' %>
        </div>
      <% end %>

      <div class="divider"></div>
    </div>
  </div>
</div>

<div class="my-4">
  <div class="flex justify-center mb-4">
    <%= link_to "ÉMARGEMENTS", presences_path, class: 'btn btn-outline btn-primary btn-lg hover:!text-white w-1/2' %>
  </div>
  <div class="flex justify-center mb-4">
    <%= link_to "PARTICIPANTS", users_path, class: 'btn btn-outline btn-primary btn-lg hover:!text-white w-1/2' %>
  </div>
  <div class="flex justify-center mb-4">
    <%= link_to "SESSIONS", assemblees_path, class: 'btn btn-outline btn-primary btn-lg hover:!text-white w-1/2' %>
  </div>
  <div class="flex justify-center gap-1">
    <%= link_to "Mon organisation", edit_organisation_path(current_user.organisation), title: "Voir les paramètres de mon Organisation", class: 'btn btn-outline btn-secondary hover:!text-white' %>
    <%= link_to "Mail logs", mail_logs_path, title: "Historique des mails envoyés", class: 'btn btn-outline btn-secondary hover:!text-white' %>
    <%= link_to "Audit trail", admin_audits_path, title: "Audit des modifications", class: 'btn btn-outline btn-secondary hover:!text-white' %>
    <%= link_to "Détections d'anomalies", admin_fake_signatures_detector_path, title: "Détections de fausses signatures", class: 'btn btn-outline btn-secondary hover:!text-white' %>
  </div>
</div>